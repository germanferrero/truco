ESPECIFICACIÓN DE REQUERIMIENTOS 

Ingeniería del Software I 

Ferrero German, Ferri Federico, Haag Karen, Reyes Martín

Universidad Nacional de Córdoba
FaMAF 
Año 2014




--------------------------------------------------------------------------------




CONTENIDO 

1. INTRODUCCIÓN 
1.1. Propósito
1.2. Alcance 
1.3. Definiciones, acrónimos y abreviaciones
1.4. Referencias
1.5. Visión general

2. DESCRIPCIÓN GENERAL 
2.1. Perspectiva del producto
2.2. Funciones del producto 
2.3. Características del usuario
2.4. Restricciones generales
2.5. Suposiciones y dependencias

3. REQUERIMIENTOS ESPECÍFICOS
3.1. Requerimientos específicos
3.2. Requerimientos funcionales
3.3. Requerimientos de desempeño
3.4. Restricciones de diseño
3.5. Atributos
3.6. Otros requisitos




--------------------------------------------------------------------------------




1. INTRODUCCIÓN



1.1 PROPÓSITO

    Este documento pretende dejar en claro las descripciones preeliminares de la
aplicación web “TRUCO”, dejando asentados los requerimientos para el desarrollo de la misma,
 cumpliendo las características de una buena SRS según norma IEEE 830,
 a modo de contrato entre el cliente y el desarrollador.
    El mismo está dirigido a los desarrolladores de la aplicación, el grupo FFHR,
y a los clientes interesados en el software, profesores de la cátedra de 
Ingeniería del Software I.



1.2 ALCANCE DEL PRODUCTO 

   La aplicación "Truco" será un simulador del juego de cartas omónimo popular argentino.
Diseñada para ser utilizada por usuarios con conectividad a internet, 
donde se enfrentarán en partidas “uno contra uno”.



1.3 DEFINICIONES, ACRÓNIMOS Y ABREVIATURAS

* USUARIO: persona que utilizará la aplicación.
* CANTAR: sinónimo de la acción de proponer Envido, Truco, o cualquier derivado.
* PUNTOS OBJETIVO: meta a alcanzar por los jugadores para poder ganar el juego.
* PARTIDA: juego entre dos personas hasta alcanzar los puntos objetivo.
* REGISTRO DE PARTIDA: historial de la partida en curso, la cuál involucra tanto
                       el historial de puntos ya anotados, puntos a anotar al
                       finalizar la ronda y registro del estado de la ronda actual.
* MANO: el usuario al que le toca jugar primero en la ronda.
* LOBBY: pantalla principal del juego donde se puede crear una nueva partida o 
         unirse a una ya creada.



1.4 REFERENCIAS

* Enunciados provistos por la cátedra:
      http://www.famaf.proed.unc.edu.ar/pluginfile.php/14560/mod_resource/content/1/2014/Proyecto%20Ingenier%C3%ADa%20Truco.pdf
      http://www.famaf.proed.unc.edu.ar/pluginfile.php/14708/mod_resource/content/1/Enunciado%20segunda%20versi%C3%B3n.pdf
* Reglas de truco:
      http://www.mundomatero.com/truco.html
      http://www.ludoteka.com/truco.html
      http://www.juegos.gba.gov.ar/archivos/trash/reglamentos_2012/Reglamentos%20Tecnicos/Adultos%20Mayores/TRUCO.pdf


1.5 VISIÓN GENERAL

   En la siguiente sección (sección 2) de este documento se realiza una
descripción general del producto de software, presentando sus características
generales, sin entrar en demasiados detalles. Dentro de las cuales se definirán
las principales funciones que debe realizar la aplicación, caraterísticas que
tiene el usuario, restricciones generales, supuestos y dependencias que afectan
al desarrollo.

   En la sección 3 se definen con mas detalles los requerimientos específicos,
entre los que se encuentran los requerimientos de interfaz externa y requerimientos
funcionales del software, requerimientos de desempeño, restricciones de diseño,
atributos y otros requisitos.




--------------------------------------------------------------------------------




2. DESCRIPCIÓN GLOBAL



2.1 PERSPECTIVA DEL PRODUCTO 

   La aplicación esta diseñada para funcionar a través de la web, y para ser
utilizada por pares de personas.



2.2 FUNCIONES DEL PRODUCTO 

   La aplicación de “TRUCO” debe cumplir con las siguientes funciones básicas
para cada usuario:
      * Gestionar una cuenta. Ya sea para crear una cuenta de usuario o para
        modificar la misma cambiando la contraseña.
      * Llevar a cabo una partida de truco.



2.3 CARACTERÍSTICAS DEL USUARIO

   Los usuarios potenciales del sistema son todas aquellas personas interesadas
en el juego de truco que deseen jugar partidas uno-a-uno contra otras personas
en diferentes partes del mundo a través de la web.
   Todos los usuarios se ubican dentro de un mismo nivel jerárquico y pueden
realizar las funciones descriptas en el inciso 2.2.



2.4 RESTRICCIONES GENERALES

    * La aplicación tiene que estar desarrollada en Django.
    * Fecha límite de entrega del software es 02 de Octubre de 2014
    * El juego será regido por las siguientes reglas:

    El juego consiste en emplear las tres cartas que se poseen, de la mejor manera
posible, para ganar al menos dos de las tres partes que componen cada ronda.
    El objetivo es ser el primero en llegar a los quince o treinta puntos, meta
establecida antes de iniciar la partida.


__Cartas
    El truco se juega con una baraja española sin ochos, nueves, ni comodines.
Las cartas tienen una jerarquía determinada, y sólo pueden ganarle a una carta de
menor jerarquía en un enfrentamiento.
    A continuación se listan las cartas en orden jerárquico.

1 de espadas
1 de bastos
7 de espadas
7 de orosS
3 de cualquier palo
2 de cualquier palo
1 de copas y 1 de oros
12 de cualquier palo
11 de cualquier palo
10 de cualquier palo
7 de copas y de bastos
6 de cualquier palo
5 de cualquier palo
4 de cualquier palo


__Envido
    Un jugador puede cantar Envido o alguno de sus derivados(real envido, falta envido)
y el oponente puede responder "quiero", "no quiero", o re-cantar.
    El Envido se juega por 2 puntos, el Real Envido por 3, y el Falta Envido se
juega por la cantidad mínima de puntos que hace falta para que alguno de los
jugadores llegue a 15 o 30 puntos.
    Además son acumulables (hasta 2 envidos y 1 real envido). Por lo tanto, las posibles
combinaciones son:

1) Envido: 2 puntos aceptado / 1 punto no aceptado
2) Real envido: 3 puntos aceptado / 1 punto no aceptado
3) Envido + Envido: 4 puntos aceptado / 2 puntos no aceptado
4) Envido + Real envido: 5 puntos aceptado / 2 puntos no aceptado
5) Envido + Envido + Real envido: 7 puntos aceptado / 4 puntos no aceptado
6) Cualquier combinación + Falta envido = cantidad mínima para que el jugador
    que ganó alcance los 15 o 30 puntos si fue aceptado/ en el caso que no fuera
    aceptada, al ganador le corresponden la cantidad de puntos que hubiera
    recibido si se hubiese aceptado y ganado la primera combinación, o 1 punto si la
    combinación es nula

    En caso de haberse querido alguna de las combinaciones, el jugador con mas
puntos será el ganador. En caso de empate gana el jugador que es mano.
    Al terminar la ronda, quien lo haya ganado deberá mostrar las cartas que
conformaron sus puntos, solo en el caso de que el contrincante lo haya pedido,
de lo contrario no es necesario mostrarlas.
    Un jugador podrá mentir en la cantidad de puntos que tiene. Si el contrincante
no le pide que muestre las cartas, puede ganar. De lo contrario, debe mostrar las
cartas y pierde el envido, dándole los puntos al contrincante.




__Tantos para el envido
    Además del orden jerárquico de las cartas, éstas tienen un puntaje determinado,
que es empleado en el envido. El puntaje de una carta coincide con su valor nominal
excepto para los diez, los onces, y los doces. El valor de estas tres cartas es cero.
    Los tantos o puntos para el envido se calculan de la siguiente forma:
Si se poseen dos o más cartas de igual palo, los tantos equivalen a la mayor suma del puntaje de
dos cartas del mismo palo elegidas por el jugador más veinte puntos. Si se poseen tres
cartas de diferente palo, los tantos equivalen al puntaje de mayor jerarquía.


__Juego
    Se mezclan las cartas al azar y luego se reparten, una por vez, comenzando por el
jugador que es mano, tres cartas a cada jugador.
    Empieza jugando el jugador mano, quien puede bajar una carta, o cantar Envido o Truco.
    Si se canta el envido, se entra en la fase del Envido mismo y luego el mano
tiene la posibilidad de cantar truco o bajar una carta. Si canta truco, el oponente
debe contestar "quiero" o "no quiero" o re-cantar.
    En el caso que se haya aceptado, el ganador de los enfrentamientos se llevará
2 puntos, caso contrario, el ganador(el jugador que cantó) se lleva 1 punto y la
ronda finaliza inmediatamente.
    Si se canta Truco y se acepta, entonces el jugador que ha aceptado puede subir la apuesta y
cantar Retruco. Si es aceptado se juega por 3 puntos. De lo contrario, el jugador que cante el
Retruco gana 2 puntos inmediatamente y se termina la ronda.
Si el Retruco es aceptado, se puede subir aún más la apuesta cantando “Quiero Vale 4”. En
caso de ser aceptado, se juega por 4 puntos. De lo contrario, el jugador que cantó “Quiero Vale
4” gana 3 puntos inmediatamente y termina la ronda.
    En el caso de que se haya cantado Truco o alguno de los cantos siguientes, y
luego se haya aceptado, el jugador que cantó debe bajar una carta.
    Luego, el oponente puede cantar Envido, o derivados y/o Truco (en caso de que
no los haya cantado la mano, o que no se haya querido todavia el truco), y luego
bajar una carta.
    Luego se verifica el ganador del primer enfrentamiento, y comienza el segundo
enfrentamiento el ganador del primero. En caso de empate coninúa la mano.
    Se repiten los pasos anteriores relacionados a los enfrentamientos, a excepción
de la parte del Envido.
    Una vez que uno de los jugadores gana dos de los tres enfrentamientos, dá por
ganador al jugador que más enfrentamientos haya ganado. En el poco probable caso
de un empate, se procede de esta manera:



Ganador del primer      Ganador del segundo       Ganador del tercer        Ganador
 enfrentamiento             enfrentamiento           enfrentamiento

    A                           B                       Empate                A

    A                        Empate                       -                   A

  Empate                        A                         -                   A

  Empate                     Empate                       A                   A

  Empate                     Empate                     Empate              Mano


    En cada uno de los turnos de un jugador, siempre y cuando no tenga que responder
a un canto, éste, tiene la posibilidad de irse al mazo. En ese caso, se termina la
ronda automáticamente y se da por ganador al oponente.
    Una vez que se termina la ronda, se suman los puntos correspondientes a cada
jugador.
    Cuando uno de los jugadores llegue a los puntos establecidos como objetivo,
entonces se lo considera ganador de la partida.
    Si ambos jugadores llegan en la misma ronda al puntaje objetivo, entonces el
ganador será el que llegó con los puntos del Envido.




--------------------------------------------------------------------------------




3. REQUERIMIENTOS ESPECÍFICOS



3.1 REQUERIMIENTOS DE INTERFAZ EXTERNA

3.1.1 INTERFACES DE USUARIO
    El usuario debe ser capaz de interactuar con el sistema a través de botones
en las pantallas de un navegador.



3.1.3 INTERFACES DE SOFTWARE

    La aplicación debe contar con las pantallas de 'Home', 'Lobby', 'Crear Partida',
'Unirse a Partida' y 'Partida'.



3.1.4 INTERFACES DE COMUNICACIÓN

    El usuario debe poder manejar la aplicación con la utilización de un
mouse y un teclado(para poder ingresar los datos necesarios para la creación y loggin
de una cuenta, y para poder crear una partida).
--------------------------------------------------------------------------------------- modificacion de cuenta -----------


3.2. REQUERIMIENTOS FUNCIONALES

    En esta sección se especifican los distintos casos de uso por los que puede
pasar un usuario durante el juego.


3.2.1 HOME
    ·Caso de uso: Ingreso al home de la aplicación.
    ·Actor primario: Usuario
    ·Actor secundario: Sistema.
    ·Precondición: El usuario debe tener un navegador con conexión a internet.
    ·Escenario exitoso principal:
        1. El usuario ingresa la url del juego.
        2. El sistema muestra al usuario la pantalla de home que contiene los campos
            de inicio de sesión o la posibilidad de registrarse como un nuevo usuario
            mediante un botón de "Registrarse".


3.2.2 REGISTRO DE CUENTA
    ·Caso de uso: El usuario crea una cuenta nueva.
    ·Actor primario: Usuario
    ·Actor secundario: Sistema.
    ·Precondición: El usuario fue redirigido a la url de registro de cuenta.
    ·Escenario exitoso principal:
         1. El sistema muestra el formulario de registro de cuenta.
         2· El usuario rellena el formulario con sus datos.
         3· El usuario hace click en el boton de "Crear nuevo usuario".
         4. El sistema verifica los datos ingresados.
         5· El sistema crea la nueva cuenta en la base de datos.
         6. El sistema loguea al nuevo usuario y lo redirecciona al lobby.
    ·Escenarios excepcionales:
         4.a El formulario no está completo.
           · El sistema muestra un mensaje de error indicando qué campos están incompletos.
         4.b El nombre de usuario ya existe.
           · El sistema muestra un mensaje de error indicando que el nombre de usuario
             ya se encuentra en uso.
         4.c El usuario ingreso una contraseña diferente en el campo de verificación
             de contraseña.
           · El sistema muestra un mensaje de error indicando que las contraseñas no coinciden.


3.2.3 INICIAR SESIÓN
    ·Caso de uso: Inicio de sesión.
    ·Actor primario: Usuario
    ·Actor secundario: Sistema.
    ·Precondición: El usuario debe tener una cuenta activa y debe estar en la pantalla de iniciar sesión.
    ·Escenario exitoso principal:
        1. El usuario ingresa su nombre de usuario y contraseña y hace click
            en el botón de "Iniciar Sesión".
        2. El sistema verifica los datos y redirige al lobby.
    ·Escenarios excepcionales:
        2.a No existe un usuario con el nombre ingresado.
          · Se le comunica al usuario mediante un mensaje de error.
        2.b El usuario ingresó una contraseña incorrecta.
          · Se le comunica al usuario mediante el mismo mensaje de error del inciso 2a.


3.2.4 CREAR PARTIDA
    ·Caso de uso: Un usuario crea una partida.
    ·Actor primario: Usuario
    ·Actor secundario: Sistema.
    ·Precondición: El usuario ha iniciado sesión y se encuentra en el lobby.
    ·Escenario exitoso principal:
        1. El usuario hace click en el botón "Crear Patida".
        2. El usuario elige un nombre para su partida.
        3. El usuario elige una contraseña para su partida (opcional).
        4. El usuario elige entre 15 o 30 puntos objetivos para su partida.
        5. El usuario hace click en "Crear".
        6. El sistema registra la nueva partida y la muestra en el lobby.
        7. El sistema redirige al usuario a la mesa de juego.
    ·Escenarios excepcionales:
        5.a El usuario no ingresó los datos obligatorios.
            · El sistema muestra un mensaje de error indicando qué campos obligatorios
              no han sido ingresados.


3.2.5 UNIRSE A PARTIDA
    ·Caso de uso: Un usuario se une a una partida ya creada
    ·Actor primario: Usuario que se une a la partida.
    ·Actores secundarios: Sistema, usuario dueño de la partida.
    ·Precondición: El usuario que se une a la partida debe haber seleccionado
                   del lobby, una partida ya creada en la cual todavía hay espacio
                   para un jugador más.
    ·Escenario exitoso pricipal:
        1. El usuario hace click en "Unirse a partida".
        2. El usuario ingresa la contraseña de la partida (si existe).
        3. El sistema redirecciona el usuario a la mesa de juego de la partida seleccionada.
    ·Escenarios excepcionales:
        2.a La contraseña ingresada es incorrecta.
            El sistema muestra un mensaje de error pidiendo reingresar
            la contraseña correcta.
        3.a En medio del proceso la partida es eliminada por su dueño.
            El sistema notifica al usuario que intentaba unirse a la partida y 
            lo redirecciona al lobby.


3.2.6 INICIAR UNA PARTIDA
    ·Caso de uso: Se inicia una partida.
    ·Actor primario: Sistema.
    ·Actores secundarios: Jugadores
    ·Precondición: Ambos jugadores están en la mesa de juego.
    ·Escenario exitoso principal:
        1. El sistema verifica en registros quién creó la partida y lo asigna como jugador mano.
        2. El sistema inicia una nueva ronda.


3.2.7 INICIAR RONDA
    ·Caso de uso: Se inicia una ronda.
    ·Actor primario: Sistema.
    ·Actores secundarios: Jugadores
    ·Precondición: Hay una partida en curso, ambos jugadores están en la mesa de juego.
    ·Escenario exitoso principal:
        1. El sistema verifica en los registros quién es el jugador mano.
        2. El sistema reparte 3 cartas al azar a cada uno de los jugadores 
        3. El sistema cede el turno al jugador que es mano.


3.2.8 TURNO
    ·Caso de uso: Se inicia el turno.
    ·Actor primario: Sistema.
    ·Actor secundario: Jugador en turno.
    ·Precondición: Hay una ronda en curso.
    ·Escenario exitoso principal:
        1. El sistema verifica en registro las opciones que el jugador en turno 
        tiene disponibles para jugar.
        2. El sistema muestra las opciones al jugador, para que este seleccione.


3.2.9 CANTAR ENVIDO O DERIVADOS
    ·Caso de uso: Un jugador canta envido o alguno de sus derivados.
    ·Actor primario: Jugador en turno.
    ·Actor secundario: Sistema.
    ·Precondiciones: · Hay una ronda en curso
                     · La partida se encuentra en el primer enfrentamiento.
                     · No se aceptó antes en la ronda el truco.
                     · Hay una combinación posible para cantar(No se canto antes
                       falta envido).
    ·Escenario exitoso principal:
        1. El jugador hace click en uno de los botones disponibles('Envido', 'Real
        Envido', 'Falta Envido')
        2. El sistema registra el canto y por quién fue cantado.
        3. El sistema le muestra al oponente las opciones "Quiero", "No quiero"
        y demas opciones para re-cantar, dependiendo de cual fue el último canto,
        a través de botones.
        4. El sistema le cede el turno al oponente.


3.2.10 ACEPTAR ENVIDO O DERIVADOS
    ·Caso de uso: Se juega el envido o derivado.
    ·Actor primario: Jugador en turno.
    .Actor secundario: Sistema, el jugador contrincante
    ·Precondiciones: · Hay una ronda en curso.
                     · El oponente cantó envido o derivado en el turno anterior
                       y consecuentemente el sistema muestra al jugador en turno
                       las opciones "Quiero" y "No quiero" y opciones para re-cantar.
    ·Escenario exitoso principal:
        1. El jugador en turno hace click en "Quiero".
        2. El sistema le pide al jugador mano que diga cuantos puntos tiene.
        3. El jugador mano escribe sus puntos y son mostrados al oponente.
        4. El sistema le muestra al contrincante las opciones "Son buenas",
        "Son buenas, quiero verlas", y un campo para escribir sus puntos.
        5. El sistema verifica quién canto el envido.
        6. El sistema le cede el turno al jugador que cantó el envido.
    ·Extensiones:
        4.a El contrincante elige la opción "Son buenas":
          1. El sistema registra al jugador mano como ganador y registra que no
          se pidió que muestre los puntos.
        4.b El contrincante elige la opción "Son buenas, quiero verlas":
          1. El sistema registra al jugador mano como ganador y registra que se
          pidió que muestre los puntos.
        4.c El contrincante escribe sus puntos
          1. El sistema muestra al jugador mano los puntos del contrincante y
             registra al jugador con mayor puntaje como ganador.
             Si el ganador es el jugador mano, el sistema registra que no debe mostrar
             sus puntos al finalizar la ronda. Y si el ganador es el contrincante,
             le muestra al jugador mano las opciones "Son buenas" y "Son buenas
             quiero verlas". Dependiendo de lo que éste responda, el sistema
             registra si debe mostrar sus puntos o no al finalizar la ronda.


3.2.11 RE-CANTAR ENVIDO O DERIVADOS
    ·Caso de uso: Se re-canta envido o derivado.
    ·Actor primario: Jugador en turno.
    .Actor secundario: Sistema
    ·Precondiciones: · Hay una ronda en curso.
                     · El oponente cantó envido o derivado en el turno anterior
                       y consecuentemente el sistema muestra al jugador en turno
                       las opciones "Quiero" y "No quiero" y opciones para re-cantar.
                     · El oponente no cantó "Falta Envido" en el turno anterior.
    ·Escenario exitoso principal:
        1. El jugador en turno hace click en una de las opciones para re-cantar
        2. El sistema registra el canto
        3. El sistema le cede el turno al contrincante.


3.2.12 RECHAZAR ENVIDO O DERIVADOS
    ·Caso de uso: Se rechaza el envido o alguno de sus derivados.
    ·Actor primario: Jugador en turno.
    ·Actor secundario: Sistema.
    ·Precondiciones: · Hay una ronda en curso.
                     · El oponente cantó envido o derivado en el turno anterior
                       y consecuentemente el sistema muestra al jugador en turno
                       las opciones "Quiero", "No quiero" y opciones para re-cantar.
    ·Escenario exitoso principal:
        1. El jugador en turno hace click en "No Quiero".
        2. El sistema guarda en registro al oponente como ganador.
        3. El sistema verifica quién fue el que cantó.
        4. El sistema le cede el turno al jugador que cantó.


3.2.13 JUGAR CARTA
    ·Caso de uso: Jugador tira una carta en la mesa.
    ·Actor primario: Jugador en turno.
    ·Actor secundario: Sistema.
    ·Precondiciones: · Hay una ronda en curso.
                     · El jugador en turno aún posee alguna de sus tres cartas.
                     · No hubo un canto en el turno anterior.
    ·Escenario exitoso principal:
        1. El jugador selecciona una carta de su haber.
        2. El sistema verifica si se terminó un enfrentamiento.
        3. El sistema verifica si se terminó la ronda.
        4. El sistema verifica si se terminó la partida
    ·Extensiones:
        2.a El enfrentamiento se terminó:
          1. El sistema registra al ganador del enfrentamiento, o registra un empate,
           según las reglas del juego.
          2. El sistema cede el turno al otro jugador.
        2.b El enfrentamiento no se terminó:
          1. El sistema cede el turno al oponente.
        3.a La ronda se terminó:
          1. El sistema calcula los puntos y los registra.
        3.b La ronda no se terminó:
          1. El sistema cede el turno al oponente.
        4.a La partida se terminó:
          1. El sistema muestra un mensaje de felicitaciones al jugador ganador.
          2. El sistema muestra un mensaje al jugador perdedor informándole: "Has perdido".
          3. El sistema registra la partida ganada en la cuenta de usuario del jugador ganador.
          4. El sistema redirige al lobby a ambos jugadores.
        4.b La partida no se terminó:
          1. El sistema registra que el jugador a la derecha del jugador mano
             actual, será mano en la siguiente ronda.
          2. El sistema inicia una nueva ronda.


3.2.14 CANTAR TRUCO
    ·Caso de uso: Un jugador canta truco.
    ·Actor primario: Jugador en turno.
    ·Actor secundario: Sistema.
    ·Precondiciones: · Hay una ronda en curso
                     · No se aceptó antes en la ronda el truco.
    ·Escenario exitoso principal:
        1. El jugador hace click en el botón 'Truco'
        2. El sistema registra el canto y por quién fue cantado.
        3. El sistema le muestra al oponente las opciones "Quiero", "No quiero" y
        "Re Truco" a través de botones.
        3. El sistema le cede el turno al oponente.


3.2.15 ACEPTAR TRUCO O DERIVADOS
    ·Caso de uso: Se juega el truco o alguno de sus derivados.
    ·Actor primario: Jugador en turno.
    .Actor secundario: Sistema
    ·Precondiciones: · Hay una ronda en curso
                     · El oponente cantó truco o alguno de sus derivados en el
                       turno anterior y consecuentemente el sistema muestra al
                       jugador en turno las opciones "Quiero", "No quiero" y
                       opciones para re-cantar en el caso que todavía se pueda.
    ·Escenario exitoso principal:
        1. El jugador en turno hace click en "Quiero".
        2. El sistema registra que el canto fue aceptado.
        3. El sistema le cede el turno al jugador que cantó el truco.


3.2.16 RE-CANTAR RE TRUCO O QUIERO VALE 4
    ·Caso de uso: Se re-canta "Re truco" o "Quiero vale 4"
    ·Actor primario: Jugador en turno.
    .Actor secundario: Sistema
    ·Precondiciones: · Hay una ronda en curso.
                     · El oponente cantó "Truco" o "Re truco" en el turno anterior
                       y consecuentemente el sistema muestra al jugador en turno
                       las opciones "Quiero" y "No quiero" y opciones para re-cantar.
    ·Escenario exitoso principal:
        1. El jugador en turno hace click en una de las opciones para re-cantar
        2. El sistema registra el canto
        3. El sistema le cede el turno al contrincante.


3.2.17 RECHAZAR TRUCO O DERIVADOS
    ·Caso de uso: Se rechaza el truco o alguno de sus derivados.
    ·Actor primario: Jugador en turno.
    ·Actor secundario: Sistema.
    ·Precondiciones: · Hay una ronda en curso.
                     · El oponente cantó truco o alguno de sus derivados en el
                       turno anterior y consecuentemente el sistema muestra al
                       jugador en turno las opciones "Quiero", "No quiero" y opciones
                       para re-cantar en caso de que el jugador aún tenga esa
                       posibilidad.
    ·Escenario exitoso principal:
        1. El jugador en turno hace click en "No Quiero".
        2. El sistema guarda en registro al oponente como ganador.


3.2.18 MOSTRAR PUNTOS
    ·Caso de uso: Se muestran las cartas que conforman los puntos del envido, o
                  derivado, del jugador que gano.
    ·Actor primario: Jugador en turno.
    ·Actor secundario: Sistema.
    ·Precondiciones: · Finalizó una ronda.
                     · Durante la ronda se cantó y aceptó el Envido, o alguno de
                       sus derivados, y el el perdedor pidió ver las cartas.
    ·Escenario exitoso principal:
        1. El sistema verifica si los puntos que cantó el supuesto ganador coinciden
           con los puntos reales de su mano. Es decir, quién es el ganador.
        2. El sistema muestra a todos los jugadores las cartas que conforman los
           puntos del supuesto ganador
        3. El sistema guarda en registro al ganador.
    ·Escenario excepcional:
        2.a Los puntos del supuesto ganador no coinciden con los puntos reales.
          1. El sistema muestra las tres cartas del supuesto ganador.



3.2.19 CERRAR SESIÓN
    ·Caso de uso: Cerrar sesión.
    ·Actor primario: Usuario.
    ·Actor secundario: Sistema.
    ·Precondiciones: · El usuario debe tener una cuenta activa.
                     · El usuario debe estar en la pantalla de lobby
    ·Escenario exitoso principal:
        1. El usuario hace click en el botón de "Logout".
        2. El sistema registra al usuario como desconectado y lo redirige al index.


3.2.20 IRSE AL MAZO
    ·Caso de uso: Un jugador quiere abandonar la ronda ("irse al mazo").
    ·Actor primario: Jugador en turno
    ·Actor secundario: Sistema.
    ·Precondición: ·Hay una ronda en curso.
                   ·El turno es del jugador en turno
    ·Escenario exitoso principal:
        1. El jugador hace click en "Irse ir al mazo".
        2. El sistema registra como ganador de la ronda al otro jugador.
        3. El sistema actualiza el puntaje de los jugadores según las reglas del
           juego.
        4. El sistema verifica si se terminó la partida
    ·Extensiones:
        4.a La partida se terminó:
          1. El sistema muestra un mensaje de felicitaciones al jugador ganador.
          2. El sistema muestra un mensaje al jugador perdedor informándole: "Has perdido".
          3. El sistema registra la partida ganada en la cuenta de usuario del jugador ganador.
          4. El sistema redirige al lobby a ambos jugadores.
        4.b La partida no se terminó:
          1. El sistema registra que el jugador a la derecha del jugador mano
             actual, será mano en la siguiente ronda.
          2. El sistema inicia una nueva ronda.


